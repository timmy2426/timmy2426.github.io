document.addEventListener("DOMContentLoaded",function(){function a(){let a=JSON.parse(JSON.stringify(b)),c=[],d={id:0,question:"",answer:[],solution:""};for(let b,d=0;4>d;d++)b=a[Math.floor(Math.random()*a.length)],a.splice(a.findIndex(a=>a.id===b.id),1),c.push(b);let e=c[Math.floor(Math.random()*c.length)];return d.id=e.id,d.question=e.img,d.solution=e.name,c.forEach(a=>{d.answer.push({id:a.id,name:a.name})}),b.splice(b.findIndex(a=>a.id===e.id),1),d}let b=JSON.parse(JSON.stringify(testBank)),c=[],d=[];document.querySelector("#newQuiz").addEventListener("click",()=>{let f=document.querySelector(".quiz"),g=0;document.querySelector(".control").classList.remove("show"),b=JSON.parse(JSON.stringify(testBank)),c=[],d=[],f.innerHTML="";for(let b,d=0;25>d;d++)b=a(),c.push(b);c.forEach(function(a){let b=document.createElement("div");b.setAttribute("class","test"),b.innerHTML=`<h2>第`+(g+1)+`題</h2>
<div class="col">
<div class="question">
<img src="`+a.question+`">
</div>
<div class="answer">
<div class="options">
<input type="radio" name="test`+g+`" id="`+g+`-0" value="`+a.answer[0].id+`">
<label for="`+g+`-0">`+a.answer[0].name+`</label>
</div>
<div class="options">
<input type="radio" name="test`+g+`" id="`+g+`-1" value="`+a.answer[1].id+`">
<label for="`+g+`-1">`+a.answer[1].name+`</label>
</div>
<div class="options">
<input type="radio" name="test`+g+`" id="`+g+`-2" value="`+a.answer[2].id+`">
<label for="`+g+`-2">`+a.answer[2].name+`</label>
</div>
<div class="options">
<input type="radio" name="test`+g+`" id="`+g+`-3" value="`+a.answer[3].id+`">
<label for="`+g+`-3">`+a.answer[3].name+`</label>
</div>
<p>正確答案： <span class="solution"></span></p>
</div>
</div>`,g++,f.appendChild(b)})}),document.querySelector("#send").addEventListener("click",()=>{let a=document.querySelectorAll(".test"),b=0;d=[],document.querySelector(".control").classList.add("show"),a.forEach(a=>{let b=0,c=a.querySelectorAll("input");a.querySelector("p").setAttribute("class","show");for(let e=0;4>e;e++){if(b++,c[e].checked){d.push(parseInt(c[e].value,10));break}4===b&&d.push(9999)}});for(let e=0;25>e;e++)a[e].querySelector(".solution").setAttribute("class","solution"),a[e].querySelector(".solution").innerHTML=c[e].solution,d[e]===c[e].id?b+=4:a[e].querySelector(".solution").classList.add("wrong");document.querySelector(".num").innerHTML=b,window.scrollTo(0,0)}),document.querySelector("#newQuiz").click()});